{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}GSREC | Global Education{% endblock %}</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Poppins:wght@400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{% static 'core/css/style.css' %}">
    <link rel="stylesheet" href="{% static 'core/css/components.css' %}">
    {% block extra_css %}{% endblock %}
</head>

<body>

    <header class="site-header">
        <div class="container">
            <nav style="display: flex; justify-content: space-between; align-items: center; height: 64px;">
                <a href="{% url 'index' %}" class="site-logo">
                    {% if site_settings.logo %}
                    <img src="{{ site_settings.logo.url }}" alt="{{ site_settings.site_name }}" style="height: 35px;">
                    {% else %}
                    <div class="logo-icon">
                        <i class="fa-solid fa-graduation-cap"></i>
                    </div>
                    {% endif %}
                    GSREC NEPAL
                </a>

                <button class="mobile-menu-btn">
                    <i class="fa-solid fa-bars"></i>
                </button>

                <div class="nav-links-container">
                    <div class="nav-item-wrapper">
                        <a href="{% url 'index' %}"
                            class="nav-item {% if request.resolver_match.url_name == 'index' %}active{% endif %}">
                            Home
                        </a>
                    </div>

                    <!-- Study In Dropdown -->
                    <div class="nav-item-wrapper dropdown-wrapper">
                        <div class="nav-item {% if 'study' in request.path %}active{% endif %}">
                            <a href="{% url 'destination_list' %}" class="dropdown-text">Study In</a>
                            <span class="dropdown-chevron"><i class="fa-solid fa-chevron-down"></i></span>
                        </div>
                        <div class="dropdown-menu">
                            <a href="{% url 'destination_list' %}" class="dropdown-item view-all">View All</a>
                            <div class="dropdown-divider"></div>
                            {% for country in global_countries %}
                            <a href="{% url 'destination_detail' country.slug %}" class="dropdown-item">
                                <span style="font-size: 18px; margin-right: 8px;">{{ country.flag_emoji }}</span>
                                {{country.name }}
                            </a>
                            {% endfor %}
                        </div>
                    </div>

                    <!-- Services Dropdown -->
                    <div class="nav-item-wrapper dropdown-wrapper">
                        <div class="nav-item {% if 'services' in request.path %}active{% endif %}">
                            <a href="{% url 'service_list' %}" class="dropdown-text">Services</a>
                            <span class="dropdown-chevron"><i class="fa-solid fa-chevron-down"></i></span>
                        </div>
                        <div class="dropdown-menu">
                            <a href="{% url 'service_list' %}" class="dropdown-item view-all">View All</a>
                            <div class="dropdown-divider"></div>
                            {% for service in global_services %}
                            <a href="{% url 'service_detail' service.slug %}" class="dropdown-item">
                                <i class="fa-solid {{ service.icon_class }}"
                                    style="color: var(--primary); width: 20px;"></i> {{ service.title }}
                            </a>
                            {% endfor %}
                        </div>
                    </div>

                    <!-- Test Prep Dropdown -->
                    <div class="nav-item-wrapper dropdown-wrapper">
                        <div class="nav-item {% if 'test-prep' in request.path %}active{% endif %}">
                            <a href="{% url 'test_prep_list' %}" class="dropdown-text">Test Prep</a>
                            <span class="dropdown-chevron"><i class="fa-solid fa-chevron-down"></i></span>
                        </div>
                        <div class="dropdown-menu">
                            <a href="{% url 'test_prep_list' %}" class="dropdown-item view-all">View All</a>
                            <div class="dropdown-divider"></div>
                            {% for test in global_test_preps %}
                            <a href="{% url 'test_prep_detail' test.slug %}" class="dropdown-item">
                                <i class="{{ test.icon_class }}" style="color: var(--primary); width: 20px;"></i>
                                {{test.name }}
                            </a>
                            {% endfor %}
                        </div>
                    </div>

                    <div class="nav-item-wrapper">
                        <a href="{% url 'success_stories' %}"
                            class="nav-item {% if request.resolver_match.url_name == 'success_stories' %}active{% endif %}">
                            Success Stories
                        </a>
                    </div>

                    <div class="nav-item-wrapper">
                        <a href="{% url 'resources' %}"
                            class="nav-item {% if request.resolver_match.url_name == 'resources' %}active{% endif %}">
                            Resources
                        </a>
                    </div>

                    <div class="nav-item-wrapper">
                        <a href="{% url 'about' %}"
                            class="nav-item {% if request.resolver_match.url_name == 'about' %}active{% endif %}">
                            About Us
                        </a>
                    </div>

                    <a href="{% url 'contact' %}" class="btn-primary contact-btn">
                        Contact <i class="fa-solid fa-arrow-right" style="font-size: 12px"></i>
                    </a>
                </div>
        </div>
        </nav>
        </div>
    </header>

    <main>
        {% block content %}
        {% endblock %}
    </main>

    <footer class="site-footer">
        <div class="container">
            <div class="footer-grid" style="margin-bottom: 60px;">
                <div>
                    <div class="site-logo footer-logo" style="color: white; margin-bottom: 20px;">
                        {% if site_settings.footer_logo %}
                        <img src="{{ site_settings.footer_logo.url }}" alt="{{ site_settings.site_name }}"
                            style="height: 40px;">
                        {% elif site_settings.logo %}
                        <img src="{{ site_settings.logo.url }}" alt="{{ site_settings.site_name }}"
                            style="height: 40px;">
                        {% else %}
                        <div class="logo-icon">
                            <i class="fa-solid fa-graduation-cap" style="font-size: 14px;"></i>
                        </div>
                        GSREC
                        {% endif %}
                    </div>
                    <p style="color: #94A3B8; font-size: 14px; line-height: 1.8;">
                        {{ site_settings.footer_description }}
                    </p>
                    <div style="display: flex; gap: 15px; margin-top: 30px;">
                        {% if site_settings.facebook_link %}
                        <a href="{{ site_settings.facebook_link }}" target="_blank" class="social-icon"><i
                                class="fa-brands fa-facebook-f"></i></a>
                        {% endif %}
                        {% if site_settings.twitter_link %}
                        <a href="{{ site_settings.twitter_link }}" target="_blank" class="social-icon"><i
                                class="fa-brands fa-twitter"></i></a>
                        {% endif %}
                        {% if site_settings.instagram_link %}
                        <a href="{{ site_settings.instagram_link }}" target="_blank" class="social-icon"><i
                                class="fa-brands fa-instagram"></i></a>
                        {% endif %}
                        {% if site_settings.linkedin_link %}
                        <a href="{{ site_settings.linkedin_link }}" target="_blank" class="social-icon"><i
                                class="fa-brands fa-linkedin-in"></i></a>
                        {% endif %}
                    </div>
                </div>

                <div>
                    <h4 class="footer-heading">{{ site_settings.footer_company_title|default:"Company" }}</h4>
                    <a href="{% url 'about' %}" class="footer-link">About Us</a>
                    <a href="{% url 'service_list' %}" class="footer-link">Our Services</a>
                    <a href="{% url 'contact' %}" class="footer-link">Contact</a>
                    <a href="{% url 'legal_page_detail' 'privacy-policy' %}" class="footer-link">Privacy Policy</a>
                    <a href="{% url 'legal_page_detail' 'terms-and-conditions' %}" class="footer-link">Terms &
                        Conditions</a>
                </div>

                <div>
                    <h4 class="footer-heading">{{ site_settings.footer_destinations_title|default:"Destinations" }}</h4>
                    {% for country in global_countries|slice:":5" %}
                    <a href="{% url 'destination_detail' country.slug %}" class="footer-link">{{ country.name }}</a>
                    {% endfor %}
                </div>

                <div>
                    <h4 class="footer-heading">{{ site_settings.footer_contact_title|default:"Contact" }}</h4>
                    <a href="{{ site_settings.address_link|default:'#' }}" target="_blank"
                        class="interactive-link footer-contact-item" style="display: flex; gap: 10px; color: inherit;">
                        <i class="fa-solid fa-location-dot" style="margin-top: 4px;"></i>
                        {{ site_settings.address }}
                    </a>
                    <a href="tel:{{ site_settings.phone }}" class="interactive-link footer-contact-item"
                        style="display: flex; gap: 10px; color: inherit;">
                        <i class="fa-solid fa-phone" style="margin-top: 4px;"></i>
                        {{ site_settings.phone }}
                    </a>
                    <a href="mailto:{{ site_settings.email }}" class="interactive-link footer-contact-item"
                        style="display: flex; gap: 10px; color: inherit;">
                        <i class="fa-solid fa-envelope" style="margin-top: 4px;"></i>
                        {{ site_settings.email }}
                    </a>
                </div>
            </div>

            <div
                style="text-align: center; padding-top: 30px; border-top: 1px solid rgba(255,255,255,0.05); color: #475569; font-size: 13px;">
                &copy; 2008-<span id="currentYear"></span> GSREC Nepal. All rights reserved.
            </div>
        </div>
    </footer>

    <script>
        // Update copyright year automatically
        document.getElementById('currentYear').textContent = new Date().getFullYear();
    </script>
    <script src="{% static 'core/js/main.js' %}"></script>
        <!--Start of Tawk.to Script-->
        <script type="text/javascript">
        var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
        (function(){
        var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
        s1.async=true;
        s1.src='https://embed.tawk.to/69708cee09380619819682b9/1jffqd187';
        s1.charset='UTF-8';
        s1.setAttribute('crossorigin','*');
        s0.parentNode.insertBefore(s1,s0);
        })();
        </script>
    <!--End of Tawk.to Script-->
</body>

</html>